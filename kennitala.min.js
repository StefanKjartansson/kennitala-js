(function(){var Kennitala,dateToArray,generate,getRandom,validate;validate=function(kt){var i,n,x;return kt=kt.replace(/\s/g,"").replace(/^(\d{6})[\s-]?(\d{4})$/,"$1$2"),10===kt.length&&/[90]$/.test(kt)?/010130(2(12|20|39|47|55|63|71|98)|3(01|36)|4(33|92)|506|778)9/.test(kt)?!1:(x=[3,2,7,6,5,4,3,2,1].reverse(),function(){var _i,_len,_ref,_results;for(_ref=kt.split("").reverse().slice(1,10),_results=[],n=_i=0,_len=_ref.length;_len>_i;n=++_i)i=_ref[n],_results.push(+i*x[n]);return _results}().reduce(function(x,y){return x+y})%11?!1:!0):!1},getRandom=function(){var i,rnd;return rnd=Math.floor(99*Math.random()+1),1===rnd.length+""?[0,rnd]:function(){var _i,_len,_ref,_results;for(_ref=(rnd+"").split(""),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)i=_ref[_i],_results.push(+i);return _results}()},dateToArray=function(date){var d,m,stack,yr;return stack=[],d=date.getDay()+"",stack.push(1===d.length?"0"+d:d),m=date.getMonth()+1+"",stack.push(1===m.length?"0"+m:m),yr=date.getFullYear()+"",stack.push(yr.slice(2)),stack.join("").split("")},generate=function(date){var chk,i,kt,n,remainder,rnd,stack,sum,valid,_i,_len,_ref;for(stack=dateToArray(date),valid=!1;!valid;){for(rnd=getRandom(),kt=function(){var _i,_len,_ref,_results;for(_ref=stack.join(""),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)i=_ref[_i],_results.push(+i);return _results}().concat(rnd),sum=0,_ref=[2,3,4,5,6,7,2,3].reverse(),n=_i=0,_len=_ref.length;_len>_i;n=++_i)i=_ref[n],sum+=kt[n]*i;remainder=sum%11,chk=11-remainder,0===remainder&&(chk=0),10>chk&&(stack.push(rnd.join("")),stack.push(chk),stack.push((date.getFullYear()+"")[1]),valid=!0)}return stack.join("")},Kennitala="undefined"!=typeof exports&&null!==exports&&exports||(this.Kennitala={}),Kennitala.validate=validate,Kennitala.generate=generate}).call(this);